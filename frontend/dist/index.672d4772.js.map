{"mappings":"AAAA,MAAM,aAAa,CAAC,qBAAqB,CAAC;AAE1C,mFAAmF;AACnF,MAAM;AACN,mFAAmF;AAEnF,MAAM;IACJ,MAAM,aAAa;QACjB,IAAI;YACF,MAAM,WAAW,MAAM,MAAM,CAAC,EAAE,WAAW,OAAO,CAAC;YACnD,IAAI,CAAC,SAAS,EAAE,EACd,MAAM,IAAI,MAAM;YAElB,OAAO,MAAM,SAAS,IAAI;QAC5B,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,0BAA0B,MAAM,OAAO;YACrD,MAAM;QACR;IACF;IAEA,MAAM,aAAa,IAAI,EAAE;QACvB,IAAI;YACF,MAAM,WAAW,IAAI;YACrB,SAAS,MAAM,CAAC,QAAQ;YAExB,MAAM,WAAW,MAAM,MAAM,CAAC,EAAE,WAAW,OAAO,CAAC,EAAE;gBACnD,QAAQ;gBACR,MAAM;YACR;YAEA,IAAI,CAAC,SAAS,EAAE,EACd,MAAM,IAAI,MAAM;YAGlB,OAAO,MAAM,SAAS,IAAI;QAC5B,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,0BAA0B,MAAM,OAAO;YACrD,MAAM;QACR;IACF;AACF;AAEA,MAAM,MAAM,IAAI;AAEhB,mFAAmF;AACnF,UAAU;AACV,mFAAmF;AAEnF,mFAAmF;AACnF,iBAAiB;AACjB,mFAAmF;AAEnF,oBAAoB;AACpB,8DAA8D;AAC9D,sDAAsD;AACtD,cAAc;AACd,MAAM;AAEN,0DAA0D;AAC1D,mCAAmC;AAEnC,kDAAkD;AAClD,qDAAqD;AACrD,oCAAoC;AACpC,+CAA+C;AAC/C,QAAQ;AAER,mDAAmD;AACnD,yBAAyB;AACzB,2EAA2E;AAC3E,mCAAmC;AACnC,2FAA2F;AAC3F,OAAO;AACP,kBAAkB;AAElB,oCAAoC;AACpC,kFAAkF;AAClF,gFAAgF;AAChF,MAAM;AAEN,0BAA0B;AAE1B,oDAAoD;AACpD,cAAc;AACd,wCAAwC;AACxC,8BAA8B;AAC9B,eAAe;AACf,sCAAsC;AACtC,iDAAiD;AACjD,QAAQ;AACR,QAAQ;AACR,MAAM;AAEN,8DAA8D;AAC9D,mDAAmD;AACnD,iCAAiC;AACjC,6BAA6B;AAC7B,oBAAoB;AACpB,wDAAwD;AACxD,MAAM;AAEN,sEAAsE;AACtE,gCAAgC;AAChC,6BAA6B;AAC7B,4BAA4B;AAE5B,oBAAoB;AACpB,KAAK;AAEL,SAAS,gBAAgB,CAAC,oBAAoB;IAC5C,MAAM,aAAa,SAAS,cAAc,CAAC;IAE3C,WAAW,gBAAgB,CAAC,UAAU,SAAU,KAAK;QACnD,MAAM,cAAc;QAEpB,MAAM,YAAY,SAAS,cAAc,CAAC;QAC1C,MAAM,OAAO,UAAU,KAAK,CAAC,EAAE;QAE/B,IACG,YAAY,CAAC,MACb,IAAI,CAAC,CAAC;YACL,QAAQ,GAAG,CAAC,mBAAmB;QACjC,GACC,KAAK,CAAC,CAAC;YACN,QAAQ,KAAK,CAAC,2BAA2B;QAC3C;IACJ;AACF","sources":["script.js"],"sourcesContent":["const SERVER_URL = `http://localhost:8000`;\r\n\r\n// ================================================================================\r\n// API\r\n// ================================================================================\r\n\r\nclass API {\r\n  async get_photos() {\r\n    try {\r\n      const response = await fetch(`${SERVER_URL}/photos`);\r\n      if (!response.ok) {\r\n        throw new Error(\"Failed to fetch photos\");\r\n      }\r\n      return await response.json();\r\n    } catch (error) {\r\n      console.error(\"Error fetching photos:\", error.message);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  async upload_photo(file) {\r\n    try {\r\n      const formData = new FormData();\r\n      formData.append(\"file\", file);\r\n\r\n      const response = await fetch(`${SERVER_URL}/photos`, {\r\n        method: \"POST\",\r\n        body: formData,\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error(\"Failed to upload photo\");\r\n      }\r\n\r\n      return await response.json();\r\n    } catch (error) {\r\n      console.error(\"Error uploading photo:\", error.message);\r\n      throw error;\r\n    }\r\n  }\r\n}\r\n\r\nconst api = new API();\r\n\r\n// ================================================================================\r\n// Helpers\r\n// ================================================================================\r\n\r\n// ================================================================================\r\n// Event handlers\r\n// ================================================================================\r\n\r\n// // Tutorial Modal\r\n// document.addEventListener(\"DOMContentLoaded\", function () {\r\n//   if (localStorage.getItem(\"visited\") === \"true\") {\r\n//     return;\r\n//   }\r\n\r\n//   var modal = document.getElementById(\"tutorialModal\");\r\n//   modal.style.display = \"block\";\r\n\r\n//   var closeBtn = modal.querySelector(\".close\");\r\n//   closeBtn.addEventListener(\"click\", function () {\r\n//     modal.style.display = \"none\";\r\n//     localStorage.setItem(\"visited\", \"true\");\r\n//   });\r\n\r\n//   var nextBtn = modal.querySelector(\".nextBtn\");\r\n//   var tutorialText = [\r\n//     \"Upload an image by either drag & drop or click on 'Upload Image'.\",\r\n//     \"Click 'Submit' to upload.\",\r\n//     \"The image will be sent to analyse and you will be able to view the final results.\",\r\n//   ];\r\n//   var step = 0;\r\n\r\n//   function updateTutorialText() {\r\n//     document.getElementById(\"tutorialStep\").textContent = \"Step \" + (step + 1);\r\n//     document.getElementById(\"tutorialText\").textContent = tutorialText[step];\r\n//   }\r\n\r\n//   updateTutorialText();\r\n\r\n//   nextBtn.addEventListener(\"click\", function () {\r\n//     step++;\r\n//     if (step < tutorialText.length) {\r\n//       updateTutorialText();\r\n//     } else {\r\n//       modal.style.display = \"none\";\r\n//       localStorage.setItem(\"visited\", \"true\");\r\n//     }\r\n//   });\r\n// });\r\n\r\n// document.addEventListener(\"DOMContentLoaded\", async () => {\r\n//   const r = await fetch(`${SERVER_URL}/photos`);\r\n//   const data = await r.json();\r\n//   document.getElementById(\r\n//     \"placeholder\"\r\n//   ).innerHTML = `Number of elements: ${data.length}`;\r\n// });\r\n\r\n// document.getElementById(\"uploadForm\").onsubmit = function (event) {\r\n//   // Stop page from reloading\r\n//   console.log(\"onsubmit\");\r\n//   event.preventDefault();\r\n\r\n//   handleUpload();\r\n// };\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", function () {\r\n  const uploadForm = document.getElementById(\"uploadForm\");\r\n\r\n  uploadForm.addEventListener(\"submit\", function (event) {\r\n    event.preventDefault();\r\n\r\n    const fileInput = document.getElementById(\"imageUpload\");\r\n    const file = fileInput.files[0];\r\n\r\n    api\r\n      .upload_photo(file)\r\n      .then((response) => {\r\n        console.log(\"Uploaded photo:\", response);\r\n      })\r\n      .catch((error) => {\r\n        console.error(\"Failed to upload photo:\", error);\r\n      });\r\n  });\r\n});\r\n"],"names":[],"version":3,"file":"index.672d4772.js.map","sourceRoot":"/__parcel_source_root/"}